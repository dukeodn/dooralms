import{_ as e}from"./_tslib-6e8ca86b.js";import{S as s}from"./single-slot-element-base-9006911a.js";import{l as t}from"./constants-a68d01b4.js";import{b as r}from"./dx-scroll-viewer-e49481ae.js";import{S as o}from"./scroll-viewer-css-classes-fb136b57.js";import{C as i}from"./css-classes-f3f8ed66.js";import{d as n}from"./dom-e194973c.js";import{b as l}from"./browser-d96520d8.js";import{e as a}from"./custom-element-267f9a21.js";import"./data-qa-utils-8be7c726.js";import"./dx-ui-element-cb17a135.js";import"./lit-element-base-7a85dca5.js";import"./lit-element-70cf14f4.js";import"./logicaltreehelper-60b7eecb.js";import"./layouthelper-2d7ade10.js";import"./point-e4ec110e.js";import"./constants-58283e53.js";import"./property-d3853089.js";import"./dx-html-element-base-22366177.js";import"./dx-html-element-pointer-events-helper-e822ee39.js";import"./eventhelper-8570b930.js";import"./devices-9f03a976.js";class d{}d.ClassName=i.Prefix+"-list-box",d.TableNoScrollClassName=d.ClassName+"-table-no-scroll";let c=class extends s{constructor(){super(),this.boundOnScrollViewerUpdateHandler=this.onScrollViewerUpdate.bind(this),this.boundOnMouseDownHandler=this.onMouseDown.bind(this),this.resizeObserver=new ResizeObserver(this.onSizeChanged.bind(this))}connectedCallback(){super.connectedCallback(),this.addEventSubscriptions(),this.resizeObserver.observe(this)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventSubscriptions(),this.resizeObserver.disconnect()}getScrollViewer(){return this.querySelector(`.${o.ClassName}`)}getScrollViewerContent(){return this.querySelector(`.${o.ContentContainerClassName}`)}getTable(){return this.querySelector(`.${o.ContentContainerClassName} > table`)}get isTableRender(){return!!this.getTable()}addEventSubscriptions(){this.addEventListener(r.eventName,this.boundOnScrollViewerUpdateHandler),l.Browser.Firefox&&this.isTableRender&&this.addEventListener("mousedown",this.boundOnMouseDownHandler)}removeEventSubscriptions(){this.removeEventListener(r.eventName,this.boundOnScrollViewerUpdateHandler),l.Browser.Firefox&&this.isTableRender&&this.removeEventListener("mousedown",this.boundOnMouseDownHandler)}onScrollViewerUpdate(e){const s=this.getScrollViewerContent(),t=this.getTable();s&&t&&(t.offsetHeight<s.clientHeight?n.DomUtils.addClassName(t,d.TableNoScrollClassName):n.DomUtils.removeClassName(t,d.TableNoScrollClassName)),e.stopPropagation()}onSizeChanged(e){const s=this.getScrollViewer();s&&s.refreshUI&&s.refreshUI()}onMouseDown(e){e.ctrlKey&&e.preventDefault()}};c=e([a(t)],c);const m={loadModule:function(){}};export{c as DxListBox2,m as default};

import{_ as t}from"./_tslib-6e8ca86b.js";import{d as e}from"./dom-e194973c.js";import{S as o}from"./single-slot-element-base-9006911a.js";import{C as i}from"./css-classes-f3f8ed66.js";import{T as s}from"./text-editor-6cda246c.js";import{e as n}from"./property-d3853089.js";import{g as a,r,a as l}from"./dom-utils-55c8e5bb.js";import{e as p}from"./custom-element-267f9a21.js";import"./browser-d96520d8.js";import"./data-qa-utils-8be7c726.js";import"./dx-ui-element-cb17a135.js";import"./lit-element-base-7a85dca5.js";import"./lit-element-70cf14f4.js";import"./logicaltreehelper-60b7eecb.js";import"./layouthelper-2d7ade10.js";import"./point-e4ec110e.js";import"./constants-58283e53.js";import"./custom-events-helper-e7f279d3.js";import"./constants-a68d01b4.js";import"./eventhelper-8570b930.js";function c(t){return{fromAttribute:e=>t[e],toAttribute:e=>t[e]}}class u{}u.Root=i.Prefix+"-fl",u.Loading=u.Root+"-loading",u.RowBreak=u.Root+"-row-break",u.Group=u.Root+"-group",u.GroupBody=u.Group+"-body",u.GroupDecoration=u.Root+"-gd",u.GroupTab=u.Root+"-gt",u.GroupHeaderTemplate=u.Root+"-group-header-tmpl",u.Item=u.Root+"-item",u.TabItem=u.Root+"-tab-item",u.Caption=u.Root+"-cpt",u.EmptyCaption=u.Root+"-empty-caption",u.BeginRow=u.Root+"-begin-row",u.TabContent=u.Root+"-tab-content",u.ItemContentWithCaption=u.Root+"-ctrl",u.ItemContentWithoutCaption=u.Root+"-ctrl-nc",u.ItemHorizontal=u.Root+"-item-horizontal",u.HeaderContentTemplate=u.Root+"-header-content-tmpl",u.CaptionTemplate=u.Root+"-caption-tmpl",u.ItemCaptionWidthCalculation=u.Root+"-calc",u.Row=i.Prefix+"-row";const d="dxbl-form-layout-item";class m extends o{constructor(){super(),this.captionFor=null}get useShadowDom(){return!1}contentChanged(){super.contentChanged(),this.initCaptionForInput()}initCaptionForInput(){var t;const e=this.getCaption();if(e&&""!==this.captionFor){const o=this.captionFor||(null===(t=this.getEditorInput())||void 0===t?void 0:t.id);o&&(e.htmlFor=o)}}getCaption(){return this.querySelector(`:scope > .${u.Caption}`)}getEditorInput(){return this.querySelector(`.${s.TextEdit} > input, .${s.TextEdit} > textarea, .dxbl-checkbox-check-element > input`)}}var h;t([n({attribute:"caption-for"})],m.prototype,"captionFor",void 0),function(t){t.v4="v4",t.v5="v5"}(h||(h={}));const C={};function y(t){!function(t,o,i){const s=C[t]||(C[t]=e.DomUtils.getCurrentStyle(document.body).getPropertyValue(t)||o);if(s){const t=a();t&&t.insertRule("@media (min-width: "+s+") {\n"+i+"\n}\n",t.cssRules.length)}}("--breakpoint-lg","992px",t)}var g,f;!function(t){t[t.None=0]="None",t[t.InGroups=1]="InGroups",t[t.All=2]="All"}(g||(g={})),function(t){t[t.Small=0]="Small",t[t.Medium=1]="Medium",t[t.Large=2]="Large"}(f||(f={}));const b=` > .${u.Caption}`,R=`${d}.${u.Item}.${u.ItemHorizontal}`,v=/\./g;class A extends o{constructor(){super(...arguments),this.captionAlignment=g.InGroups}get itemSelector(){return` > .${u.Row} > ${R}`}get mainElementId(){return this.id}getMainElement(){return document.getElementById(this.mainElementId)}calculateAdaptivityCssRules(){}startCalculationItems(t){const e=this.querySelectorAll(`:scope${` .${t}`}`);for(let t=0;t<e.length;t++)e[t].calculateAdaptivityCssRules()}updateGroups(){this.startCalculationItems(u.Group)}updateTabs(){this.startCalculationItems(u.TabContent)}createAdaptivityCssRules(){let t=0;e.DomUtils.addClassName(this,u.ItemCaptionWidthCalculation);const o=this.querySelectorAll(`:scope${` .${u.GroupBody}[expanded-state=False]`}`),i=t=>{for(let e=0;e<o.length;e++)o[e].style.display=t?"":"none",o[e].style.visibility=t?"hidden":""};i(!0);const s=this.findCaptions();s&&s.length>0&&(t=this.getMaxCaptionWidth(s),this.createAdaptivityCssRulesForElements(t)),i(!1),e.DomUtils.removeClassName(this,u.ItemCaptionWidthCalculation)}findCaptions(){return[...this.querySelectorAll(`:scope${this.itemSelector}${b}`)]}createAdaptivityCssRulesForElements(t){this.createCssRulesForElementsInternal(t,!1,!1)}getMaxCaptionWidth(t){let e=0;if(t.length>0){const o=t.find((t=>t.classList.contains(u.EmptyCaption)));let i="0 px";o&&(i=window.getComputedStyle(o,null).getPropertyValue("height"));for(let o=0;o<t.length;o++){const s=t[o].offsetWidth;this.isEmptyCaption(t[o])&&(t[o].style.height=i);const n=t[o].parentNode;n&&s>e&&s<n.offsetWidth&&(e=s)}}return e>0?e+1:0}isEmptyCaption(t){return t.classList.contains(u.EmptyCaption)}getFilteredElements(t){return r(t,(t=>l(t,u.Root)===this))}encodeDotsForMediaQuiery(t){return t.replace(v,"\\$&")}getAdaptivityCssRulesPrefix(){const t=this.getMainElement();if(!t)return null;let e=`.${u.Root}`,o=t;for(;o;)e=" #"+this.encodeDotsForMediaQuiery(o.id)+e,o=l(o.parentNode,u.Root);e.slice(1);let i="",s=this;for(;s&&s!==t&&t.contains(s);)s.id&&(i=" #"+this.encodeDotsForMediaQuiery(s.id)+i),s=l(s.parentNode,u.Group);return e+=i,e}createCssRulesForElementsInternal(t,e,o){if(0!==t&&(!this.itemCaptionWidth||t!==this.itemCaptionWidth)){this.itemCaptionWidth=t;const e=this.getAdaptivityCssRulesPrefix(),o=this.captionAlignment===g.InGroups?this.itemSelector:` ${R}`;let i=e+o+`${b} {\n width:`+t+"px;\n}\n";i+=e+o+` > .${u.ItemContentWithCaption}:not(img):not(.${u.EmptyCaption} + .${u.ItemContentWithCaption}):not(.${u.ItemContentWithoutCaption}) {\n width: calc(100% - `+t+"px);\n}\n",y(i)}}}t([n({attribute:"caption-alignment",type:g,converter:c(g)})],A.prototype,"captionAlignment",void 0);class I extends A{constructor(){super(...arguments),this.sizeMode=f.Medium}willUpdate(t){(t.has("sizeMode")||t.has("captionAlignment"))&&this.calculateAdaptivityCssRules()}findCaptions(){return this.captionAlignment===g.All?this.getFilteredElements(this.querySelectorAll(`${R}:not(.${i.Invisible})`+b)):super.findCaptions()}calculateAdaptivityCssRules(){this.captionAlignment!==g.None&&this.createAdaptivityCssRules(),this.captionAlignment===g.InGroups&&(this.updateGroups(),this.updateTabs()),e.DomUtils.removeClassName(this,u.Loading)}}t([n({attribute:"size-mode",type:f,converter:c(f)})],I.prototype,"sizeMode",void 0);class $ extends A{constructor(t){super(),this._isMainTabElement=t,this.flId=""}get mainElementId(){return this.flId}calculateAdaptivityCssRules(){this.captionAlignment!==g.None&&this.createAdaptivityCssRules()}}t([n({attribute:"fl-id",type:String})],$.prototype,"flId",void 0);class x{}x.Group=i.Prefix+"-group",x.Header=x.Group+"-header",x.Body=x.Group+"-body",x.BodyContent=x.Body+"-content";let E=class extends ${constructor(){super(!0),this.isActiveTab=!1}get itemSelector(){return` > .${u.Row} > .${u.TabItem}.${u.ItemHorizontal}`}willUpdate(t){t.has("isActiveTab")&&this.isActiveTab&&(this.captionAlignment===g.InGroups&&(this.calculateAdaptivityCssRules(),this.updateTabs(),this.updateGroups()),this.captionAlignment===g.All&&this.getMainElement().calculateAdaptivityCssRules())}createAdaptivityCssRulesForElements(t){this.createCssRulesForElementsInternal(t,!0,!1)}};t([n({attribute:"is-active-tab",type:Boolean})],E.prototype,"isActiveTab",void 0),E=t([p("dxbl-form-layout-tab")],E);let G=class extends ${constructor(){super(!1)}get itemSelector(){const t=` > .${u.Row} > ${R}`,e=` > .${x.Group} > .${x.Body} > .${x.BodyContent}${t}`;return this.isMainElementCardGroup()?e:t}isMainElementCardGroup(){return this.classList.contains(u.GroupDecoration)}createAdaptivityCssRulesForElements(t){this.createCssRulesForElementsInternal(t,!1,this.isMainElementCardGroup())}};G=t([p("dxbl-form-layout-group")],G);let F=class extends m{};F=t([p(d)],F);let j=class extends I{};j=t([p("dxbl-form-layout")],j);export{j as DxFormLayout,F as DxFormLayoutItem,G as dxFormLayoutGroup,E as dxFormLayoutTab};
